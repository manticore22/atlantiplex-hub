# Atlantiplex Studio - Production Environment Variables
# IMPORTANT: Never commit this file to git. Store in secure vault (1Password, Vault, etc.)
# Generated: 2026-02-20

################################################################################
# Database Configuration
################################################################################

DB_USER=atlantiplex_prod
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
DB_NAME=atlantiplex_prod
DB_HOST=postgres
DB_PORT=5432

# PostgreSQL settings
POSTGRES_USER=atlantiplex_prod
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
POSTGRES_DB=atlantiplex_prod

# PostgreSQL connection pool
DB_MAX_CONNECTIONS=100
DB_IDLE_TIMEOUT=30
DB_ACQUIRE_TIMEOUT=10

################################################################################
# Redis Configuration
################################################################################

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
REDIS_DB=0

# Redis settings
REDIS_MAX_MEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru
REDIS_APPENDONLY=yes

################################################################################
# Application Environment
################################################################################

# Node.js environment
NODE_ENV=production
NODE_OPTIONS=--max-old-space-size=512

# Flask environment
FLASK_ENV=production
FLASK_DEBUG=false
FLASK_PORT=5000

# Vite frontend
VITE_API_URL=https://your-domain.com
VITE_STRIPE_KEY=pk_live_YOUR_STRIPE_KEY

################################################################################
# Security & Authentication
################################################################################

# JWT Secrets (generate with: openssl rand -hex 32)
JWT_SECRET=CHANGE_ME_JWT_SECRET_KEY_HERE
JWT_REFRESH_SECRET=CHANGE_ME_JWT_REFRESH_SECRET_KEY_HERE
JWT_EXPIRATION=86400
JWT_REFRESH_EXPIRATION=2592000

# API Keys (generate unique secure keys)
API_KEY_STAGE=CHANGE_ME_STAGE_API_KEY_HERE
API_KEY_FLASK=CHANGE_ME_FLASK_API_KEY_HERE

# CORS & Origins
CORS_ORIGIN=https://your-domain.com
CORS_CREDENTIALS=true
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# Session configuration
SESSION_SECRET=CHANGE_ME_SESSION_SECRET_HERE
SESSION_TIMEOUT=3600
SESSION_SECURE=true
SESSION_HTTPONLY=true
SESSION_SAMESITE=Lax

################################################################################
# Payment Processing (Stripe)
################################################################################

STRIPE_SECRET_KEY=sk_live_YOUR_STRIPE_SECRET_KEY
STRIPE_PUBLISHABLE_KEY=pk_live_YOUR_STRIPE_PUBLISHABLE_KEY
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET
STRIPE_API_VERSION=2023-10-16

# Webhook configuration
WEBHOOK_TIMEOUT=30
WEBHOOK_RETRIES=3

################################################################################
# Email Configuration
################################################################################

# SMTP settings
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USER=noreply@your-domain.com
SMTP_PASSWORD=CHANGE_ME_EMAIL_PASSWORD
SMTP_FROM_EMAIL=noreply@your-domain.com
SMTP_FROM_NAME=Atlantiplex Studio

# Email templates
EMAIL_TEMPLATE_WELCOME=welcome.html
EMAIL_TEMPLATE_VERIFY=verify-email.html
EMAIL_TEMPLATE_RESET_PASSWORD=reset-password.html
EMAIL_TEMPLATE_INVOICE=invoice.html

################################################################################
# Logging & Monitoring
################################################################################

# Log levels
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=combined

# Sentry error tracking
SENTRY_DSN=https://your-sentry-key@sentry.io/project-id
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Datadog APM (optional)
DD_TRACE_ENABLED=false
DD_SERVICE=atlantiplex-studio
DD_ENV=production
DD_VERSION=1.0.0

################################################################################
# CDN & Static Assets
################################################################################

# CloudFront or similar CDN
CDN_URL=https://cdn.your-domain.com
CDN_ENABLED=true
CDN_CACHE_TTL=31536000

# Asset versioning
ASSET_VERSION=1.0.0

################################################################################
# Storage Configuration
################################################################################

# AWS S3 (if using cloud storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=CHANGE_ME_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=CHANGE_ME_AWS_SECRET_KEY
AWS_S3_BUCKET=atlantiplex-prod
AWS_S3_PREFIX=uploads/

# Local file storage
UPLOAD_DIR=/home/atlantiplex/uploads
MAX_FILE_SIZE=104857600  # 100MB
ALLOWED_FILE_TYPES=pdf,doc,docx,jpg,jpeg,png,gif

################################################################################
# Rate Limiting & Security
################################################################################

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=900  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# DDoS protection
CLOUDFLARE_ENABLED=true
CLOUDFLARE_API_TOKEN=CHANGE_ME_CLOUDFLARE_TOKEN
CLOUDFLARE_ZONE_ID=CHANGE_ME_ZONE_ID

# Security headers
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
ENABLE_CSP=true
ENABLE_HELMET=true

################################################################################
# Performance & Caching
################################################################################

# Redis caching
CACHE_ENABLED=true
CACHE_TTL=3600
CACHE_PREFIX=atlantiplex:

# Browser caching
STATIC_CACHE_TTL=31536000  # 1 year
DYNAMIC_CACHE_TTL=3600  # 1 hour

# Compression
GZIP_ENABLED=true
GZIP_LEVEL=6
BROTLI_ENABLED=true

################################################################################
# Database Backup
################################################################################

# Backup settings
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESSION=gzip
BACKUP_ENCRYPTION=true

# Backup destination
BACKUP_DESTINATION=s3://atlantiplex-backups/
BACKUP_REDUNDANCY=3  # Keep 3 copies

################################################################################
# Monitoring & Alerts
################################################################################

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# Alert recipients
ALERT_EMAIL=admin@your-domain.com
ALERT_SLACK_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
ALERT_PAGERDUTY_KEY=YOUR_PAGERDUTY_KEY

# Alert thresholds
ALERT_CPU_THRESHOLD=80
ALERT_MEMORY_THRESHOLD=80
ALERT_DISK_THRESHOLD=85
ALERT_ERROR_RATE_THRESHOLD=1
ALERT_RESPONSE_TIME_THRESHOLD=1000  # ms

################################################################################
# Third-party Integrations
################################################################################

# Analytics
GA_TRACKING_ID=UA-YOUR-TRACKING-ID
SEGMENT_WRITE_KEY=YOUR_SEGMENT_KEY
MIXPANEL_TOKEN=YOUR_MIXPANEL_TOKEN

# Support & Communication
ZENDESK_API_KEY=YOUR_ZENDESK_API_KEY
INTERCOM_APP_ID=YOUR_INTERCOM_APP_ID
SLACK_BOT_TOKEN=xoxb-YOUR-TOKEN

# Social authentication
GOOGLE_CLIENT_ID=YOUR_GOOGLE_CLIENT_ID
GOOGLE_CLIENT_SECRET=YOUR_GOOGLE_CLIENT_SECRET
GITHUB_CLIENT_ID=YOUR_GITHUB_CLIENT_ID
GITHUB_CLIENT_SECRET=YOUR_GITHUB_CLIENT_SECRET

################################################################################
# Feature Flags
################################################################################

FEATURE_NEW_DASHBOARD=true
FEATURE_BETA_API=false
FEATURE_ANALYTICS=true
FEATURE_ADVANCED_REPORTING=false

################################################################################
# Maintenance Mode
################################################################################

MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System under maintenance. Please try again later.
MAINTENANCE_START_TIME=
MAINTENANCE_END_TIME=

################################################################################
# Hostinger-Specific Configuration
################################################################################

# Server information
HOSTINGER_HOST=your-vps.hostinger.com
HOSTINGER_USER=root
HOSTINGER_PORT=22
DEPLOY_DIR=/home/atlantiplex
APP_NAME=atlantiplex-studio

# Docker registry
DOCKER_REGISTRY=docker.io
IMAGE_PREFIX=yourusername/atlantiplex

################################################################################
# Instructions for Security
################################################################################

# 1. Generate strong passwords:
#    openssl rand -hex 32
#
# 2. Generate JWT secrets:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 3. Store this file securely:
#    - Use 1Password, Vault, or similar service
#    - Never commit to git
#    - Limit access to production team only
#
# 4. Rotate secrets quarterly:
#    - Schedule quarterly secret rotation
#    - Update all services
#    - Test thoroughly before deployment
#
# 5. Monitor for exposure:
#    - Use tools like git-secrets, detect-secrets
#    - Set up alerts for accidental commits
#    - Regularly audit who has access

################################################################################
# Verification Checklist
################################################################################

# Before deploying, verify:
# [ ] All CHANGE_ME values have been replaced
# [ ] All sensitive keys are strong (32+ characters)
# [ ] SSL certificates are valid
# [ ] Database connections can be established
# [ ] SMTP settings are correct and tested
# [ ] All third-party API keys are valid
# [ ] Firewall rules allow required ports
# [ ] Backup destination is accessible
# [ ] Monitoring alerts are configured
# [ ] Log aggregation is set up
# [ ] Team has been trained on incident response
